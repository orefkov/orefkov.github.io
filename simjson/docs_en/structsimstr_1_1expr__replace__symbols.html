<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>simstr: simstr::expr_replace_symbols&lt; K, UseVectorForReplace &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">simstr<span id="projectnumber">&#160;1.6.6</span>
   </div>
   <div id="projectbrief">Yet another strings library</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structsimstr_1_1expr__replace__symbols.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structsimstr_1_1expr__replace__symbols-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">simstr::expr_replace_symbols&lt; K, UseVectorForReplace &gt; Struct Template Reference<div class="ingroups"><a class="el" href="group___str_exprs.html">String Expressions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A type for a string expression that generates a string in which the given characters are replaced by the given strings.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="strexpr_8h_source.html">strexpr.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for simstr::expr_replace_symbols&lt; K, UseVectorForReplace &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structsimstr_1_1expr__replace__symbols.png" usemap="#simstr::expr_5Freplace_5Fsymbols_3C_20K_2C_20UseVectorForReplace_20_3E_map" alt=""/>
  <map id="simstr::expr_5Freplace_5Fsymbols_3C_20K_2C_20UseVectorForReplace_20_3E_map" name="simstr::expr_5Freplace_5Fsymbols_3C_20K_2C_20UseVectorForReplace_20_3E_map">
<area href="structsimstr_1_1expr__to__std__string.html" alt="simstr::expr_to_std_string&lt; expr_replace_symbols&lt; K, false &gt; &gt;" shape="rect" coords="0,0,372,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1fac129651136763915ab5cba6dd26dd" id="r_a1fac129651136763915ab5cba6dd26dd"><td class="memItemLeft" align="right" valign="top">constexpr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fac129651136763915ab5cba6dd26dd">expr_replace_symbols</a> (str_t source, const std::vector&lt; std::pair&lt; K, str_t &gt; &gt; &amp;repl)</td></tr>
<tr class="memdesc:a1fac129651136763915ab5cba6dd26dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expression constructor.  <br /></td></tr>
<tr class="separator:a1fac129651136763915ab5cba6dd26dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename K, bool UseVectorForReplace = false&gt;<br />
struct simstr::expr_replace_symbols&lt; K, UseVectorForReplace &gt;</div><p>A type for a string expression that generates a string in which the given characters are replaced by the given strings. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>- symbol type. </td></tr>
    <tr><td class="paramname">UseVectorForReplace</td><td>- use a vector to remember the results of searching for occurrences of characters.</td></tr>
  </table>
  </dd>
</dl>
<p>This type is used when the composition of symbols or their corresponding replacements is not known at compile time, and is defined at runtime. A vector of <code>character - replacement string</code> pairs is passed to the constructor. The <code>UseVectorForReplace</code> parameter specifies the implementation strategy. The point is that the work of any string expressions is divided into two phases - the <code>length()</code> call, which counts the number of characters in the result, and a call to <code>place()</code>, which places the result in the provided buffer. When <code>UseVectorForReplace == true</code> during the phase of counting the number of characters, the position of the found occurrences are stored in the vector, and during the second phase the search is no longer performed, and the positions are taken from the vector. This, on the one hand, reduces the time in the second phase - there is no need to search again, but it increases time in the first phase - adding elements to the vector is not free, and takes time. When <code>UseVectorForReplace == false</code> during the phase of counting the number of characters, positions in the local array are remembered the first 16 occurrences and their total number, and during the second phase, if there are more than 16 occurrences, then the search is repeated, but only from the position of the 16th occurrence. This may increase the time in the second phase, but reduces the time in the first phase - no need to add elements to the vector, no need for dynamic allocation. In different use cases, one or another strategy may be more optimal, and you can decide for yourself whichever is more suitable in each specific case. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1fac129651136763915ab5cba6dd26dd" name="a1fac129651136763915ab5cba6dd26dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fac129651136763915ab5cba6dd26dd">&#9670;&#160;</a></span>expr_replace_symbols()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K, bool UseVectorForReplace = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsimstr_1_1expr__replace__symbols.html">simstr::expr_replace_symbols</a>&lt; K, UseVectorForReplace &gt;::expr_replace_symbols </td>
          <td>(</td>
          <td class="paramtype">str_t</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; K, str_t &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>repl</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expression constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>- source string. </td></tr>
    <tr><td class="paramname">repl</td><td>- a vector of "character-&gt;replacement string" pairs.</td></tr>
  </table>
  </dd>
</dl>
<p>Example:</p>
<div class="fragment"><div class="line">stringa result = <a class="code hl_function" href="#a1fac129651136763915ab5cba6dd26dd">expr_replace_symbols&lt;u8s, true&gt;</a>{source, {</div>
<div class="line">    {<span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&quot;&quot;</span>},</div>
<div class="line">    {<span class="charliteral">&#39;&lt;&#39;</span>, <span class="stringliteral">&quot;&amp;lt;&quot;</span>},</div>
<div class="line">    {<span class="charliteral">&#39;&gt;&#39;</span>, <span class="stringliteral">&quot;&amp;gt;&quot;</span>},</div>
<div class="line">    {<span class="charliteral">&#39;\&#39;&#39;</span>, <span class="stringliteral">&quot;&amp;#39;&quot;</span>},</div>
<div class="line">    {<span class="charliteral">&#39;\&quot;&#39;</span>, <span class="stringliteral">&quot;&amp;quot;&quot;</span>},</div>
<div class="line">    {<span class="charliteral">&#39;&amp;&#39;</span>, <span class="stringliteral">&quot;&amp;amp;&quot;</span>},</div>
<div class="line">}};</div>
<div class="ttc" id="astructsimstr_1_1expr__replace__symbols_html_a1fac129651136763915ab5cba6dd26dd"><div class="ttname"><a href="#a1fac129651136763915ab5cba6dd26dd">simstr::expr_replace_symbols::expr_replace_symbols</a></div><div class="ttdeci">constexpr expr_replace_symbols(str_t source, const std::vector&lt; std::pair&lt; K, str_t &gt; &gt; &amp;repl)</div><div class="ttdoc">Expression constructor.</div><div class="ttdef"><b>Definition</b> strexpr.h:5993</div></div>
</div><!-- fragment --><p> An example is provided for clarity of use. In this case, both the characters to be replaced and the replacement strings known at compile time, in which case it is better to use e_repl_const_symbols, and this class is used when characters or replacements are specified at runtime. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="strexpr_8h_source.html">strexpr.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesimstr.html">simstr</a></li><li class="navelem"><a class="el" href="structsimstr_1_1expr__replace__symbols.html">expr_replace_symbols</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
